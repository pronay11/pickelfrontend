{"ast":null,"code":"var _jsxFileName = \"/home/pronay/Desktop/achar/src/components/Login.js\";\nimport React from 'react';\nimport firebase from './Firebase';\nimport { getAuth, RecaptchaVerifier } from \"firebase/auth\";\nimport { signInWithPhoneNumber } from \"firebase/auth\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst auth = getAuth();\n\nclass Login extends React.Component {\n  constructor(...args) {\n    super(...args);\n\n    this.handleChange = e => {\n      const {\n        name,\n        value\n      } = e.target;\n      this.setState({\n        [name]: value\n      });\n    };\n\n    this.configureCaptcha = () => {\n      window.recaptchaVerifier = new RecaptchaVerifier('sign-in-button', {\n        'size': 'invisible',\n        'callback': response => {\n          // reCAPTCHA solved, allow signInWithPhoneNumber.\n          this.onSignInSubmit();\n          console.log(\"Recaptca varified\");\n        },\n        defaultCountry: \"BNG\"\n      }, auth);\n    };\n\n    this.onSignInSubmit = e => {\n      e.preventDefault();\n      this.configureCaptcha();\n      const phoneNumber = \"+88\" + this.state.mobile;\n      console.log(phoneNumber);\n      const appVerifier = window.recaptchaVerifier;\n      signInWithPhoneNumber(auth, phoneNumber, appVerifier).then(confirmationResult => {\n        // SMS sent. Prompt user to type the code from the message, then sign the\n        // user in with confirmationResult.confirm(code).\n        window.confirmationResult = confirmationResult;\n        console.log(\"OTP has been sent\"); // ...\n      }).catch(error => {\n        // Error; SMS not sent\n        // ...\n        console.log(\"SMS not sent\");\n      });\n    };\n\n    this.onSubmitOTP = e => {\n      e.preventDefault();\n      const code = this.state.otp;\n      console.log(code);\n      window.confirmationResult.confirm(code).then(result => {\n        // User signed in successfully.\n        const user = result.user;\n        console.log(JSON.stringify(user));\n        alert(\"User is verified\"); // ...\n      }).catch(error => {// User couldn't sign in (bad verification code?)\n        // ...\n      });\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"login-card\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Login Form\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: this.onSignInSubmit,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"input-login\",\n          children: /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"tel\",\n            name: \"mobile\",\n            className: \"form-control\",\n            placeholder: \" Enter Mobile Number...\",\n            onChange: this.handleChange,\n            \"aria-label\": \"Recipient's username\",\n            \"aria-describedby\": \"button-addon2\",\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 70,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"button-login\",\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn btn-success\",\n            type: \"sumbit\",\n            id: \"button-addon2\",\n            children: \"Submit\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 73,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Enter OTP\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: this.onSubmitOTP,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"input-login\",\n          children: /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"tel\",\n            name: \"otp\",\n            className: \"form-control\",\n            placeholder: \"Enter OTP Number...\",\n            onChange: this.handleChange,\n            \"aria-label\": \"Recipient's username\",\n            \"aria-describedby\": \"button-addon2\",\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 80,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"button-login\",\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn btn-success\",\n            type: \"sumbit\",\n            id: \"button-addon2\",\n            children: \"Submit\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 83,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default Login;","map":{"version":3,"sources":["/home/pronay/Desktop/achar/src/components/Login.js"],"names":["React","firebase","getAuth","RecaptchaVerifier","signInWithPhoneNumber","auth","Login","Component","handleChange","e","name","value","target","setState","configureCaptcha","window","recaptchaVerifier","response","onSignInSubmit","console","log","defaultCountry","preventDefault","phoneNumber","state","mobile","appVerifier","then","confirmationResult","catch","error","onSubmitOTP","code","otp","confirm","result","user","JSON","stringify","alert","render"],"mappings":"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","sourcesContent":["import React from 'react'\nimport firebase from './Firebase';\nimport { getAuth, RecaptchaVerifier } from \"firebase/auth\";\nimport { signInWithPhoneNumber } from \"firebase/auth\";\nconst auth = getAuth();\n\n\nclass Login extends React.Component {\n  handleChange = (e) =>{\n    const {name, value } = e.target\n    this.setState({\n        [name]: value\n      })\n  }\n  configureCaptcha = () =>{\n    window.recaptchaVerifier = new RecaptchaVerifier('sign-in-button', {\n      'size': 'invisible',\n      'callback': (response) => {\n        // reCAPTCHA solved, allow signInWithPhoneNumber.\n        this.onSignInSubmit();\n        console.log(\"Recaptca varified\")\n      },\n      defaultCountry: \"BNG\"\n    },auth);\n  }\n  \n  onSignInSubmit = (e) => {\n    e.preventDefault()\n    this.configureCaptcha()\n    const phoneNumber = \"+88\" + this.state.mobile\n    console.log(phoneNumber)\n    const appVerifier = window.recaptchaVerifier;\n    signInWithPhoneNumber(auth, phoneNumber, appVerifier)\n        .then((confirmationResult) => {\n          // SMS sent. Prompt user to type the code from the message, then sign the\n          // user in with confirmationResult.confirm(code).\n          window.confirmationResult = confirmationResult;\n          console.log(\"OTP has been sent\")\n          // ...\n        }).catch((error) => {\n          // Error; SMS not sent\n          // ...\n          console.log(\"SMS not sent\")\n        });\n  }\n  \n  onSubmitOTP = (e) =>{\n    e.preventDefault()\n    const code = this.state.otp\n    console.log(code)\n    window.confirmationResult.confirm(code).then((result) => {\n      // User signed in successfully.\n      const user = result.user;\n      console.log(JSON.stringify(user))\n      alert(\"User is verified\")\n      // ...\n    }).catch((error) => {\n      // User couldn't sign in (bad verification code?)\n      // ...\n    });\n  }\n\n  render() {\n    return (\n      <div className=\"login-card\">\n       \n        <h2>Login Form</h2>\n        <form onSubmit={this.onSignInSubmit}>\n          <div className=\"input-login\">\n            <input type=\"tel\" name=\"mobile\" className=\"form-control\" placeholder=\" Enter Mobile Number...\" onChange={this.handleChange} aria-label=\"Recipient's username\" aria-describedby=\"button-addon2\" required />\n          </div>  \n          <div className=\"button-login\">\n            <button className=\"btn btn-success\" type=\"sumbit\" id=\"button-addon2\">Submit</button>\n          </div>\n        </form>\n\n        <h2>Enter OTP</h2>\n        <form onSubmit={this.onSubmitOTP}>\n          <div className=\"input-login\">\n            <input type=\"tel\" name=\"otp\" className=\"form-control\" placeholder=\"Enter OTP Number...\" onChange={this.handleChange} aria-label=\"Recipient's username\" aria-describedby=\"button-addon2\" required />\n          </div>\n          <div className=\"button-login\">\n            <button className=\"btn btn-success\" type=\"sumbit\" id=\"button-addon2\">Submit</button>\n          </div>\n        </form>\n\n\n    \n       {/* <input type=\"number\" name=\"otp\" placeholder=\"OTP Number\" required onChange={this.handleChange}/>\n          <button type=\"submit\">Submit</button> */}\n\n\n      </div>\n      \n    )\n  }\n}\nexport default Login;"]},"metadata":{},"sourceType":"module"}